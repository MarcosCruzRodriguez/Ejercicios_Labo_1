/*
 ============================================================================
 Marcos Cruz Rodriguez, Div D
 Variacion del 6-3 structs

 Realizar un programa que permita el ingreso de datos de 15 empleados
 legajo (coincidente con el Ã­ndice), edad, salario, nombre. Realizar carga
 secuencial. Calcular el sueldo promedio. Listar a los empleados no binarios.
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <string.h>
#define LARGO 30

struct datosEmpleados {
	char nombre[LARGO];
	char appelido[LARGO];
	char nombreCompleto[LARGO];
	//int legajo;
	//int edad;
	//int salario;
};

int main(void) {
	setbuf(stdout, NULL);
	int largoNombre;
	int largoApellido;

	struct datosEmpleados cargaDatos[3];

	for(int i = 0; i < 3; i++)
	{
		printf("Ingrese su nombre: \n");
		fflush(stdin);
		fgets(cargaDatos[i].nombre,LARGO,stdin);

		largoNombre = strlen(cargaDatos[i].nombre);
		cargaDatos[i].nombre[largoNombre-1] = '\0';

		printf("Ingrese su apellido: \n");
		fflush(stdin);
		fgets(cargaDatos[i].appelido,LARGO,stdin);

		largoApellido = strlen(cargaDatos[i].appelido);
		cargaDatos[i].appelido[largoApellido-1] = '\0';

		strcpy(cargaDatos[i].nombreCompleto,cargaDatos[i].appelido);
		strcat(cargaDatos[i].nombreCompleto,", ");
		strcat(cargaDatos[i].nombreCompleto,cargaDatos[i].nombre);

		strlwr(cargaDatos[i].nombreCompleto);

		//printf("El nombre ingresado es: %s\n",cargaDatos[i].nombreCompleto);
		//strlen(cargaDatos[i].nombreCompleto);

		cargaDatos[i].nombreCompleto[0] = toupper(cargaDatos[i].nombreCompleto[0]);

		for(int j = 0; j < strlen(cargaDatos[j].nombreCompleto); j++)
		{
			if(isspace(cargaDatos[j].nombreCompleto))
			{
				j++;
				cargaDatos[j].nombreCompleto = toupper(cargaDatos[j].nombreCompleto);
			}
		}
		//printf("El nombre ingresado es: %s\n",cargaDatos[i].nombre);
		//printf("El apellido ingresado es: %s\n",cargaDatos[i].appelido);
		printf("El nombre ingresado es: %s\n",cargaDatos[i].nombreCompleto);
	}



	return 0;
}
